
# Аутентификация

**Важно:** В документации FastAPI (по адресу `/docs`) параметр для входа называется `username`, но на самом деле это поле ожидает ваш `email`. Пожалуйста, используйте его при выполнении запроса.

## Создание ключей для JWT

1. Переходим в директорию jwt
> cd backend/auth/jwt

2. Создаем приватный ключ
> openssl genrsa -out private.pem 2048

3. Создаем публичный ключ из приватного
> openssl rsa -in private.pem -outform PEM -pubout -out public.pem

## TODO: Подумать над аутентификацией с использованием JWT access и refresh токенов.

1. При входе пользователя на `/login` выдавать два токена: access и refresh
2. Хранить refresh токен в cookies для обеспечения длительной аутентификации
3. Для работы с функционалом приложения использовать access токен, который имеет короткий срок действия для повышения безопасности
4. Добавить endpoint `/shops/access/refresh`, где клиент сможет запросить новый access токен, используя refresh токен из cookies, и получать доступ без повторного входа
5. Дополнительно хранить shop_id в access токене
